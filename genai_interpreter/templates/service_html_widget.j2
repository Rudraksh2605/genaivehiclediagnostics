<div class="p-4 rounded-xl backdrop-blur-md bg-white/5 border border-white/10 flex flex-col gap-3" id="widget-{{ service_name }}">
    <h3 class="text-sm font-semibold tracking-wide text-white/90 uppercase">{{ service_name | replace('_', ' ') | title }}</h3>
    
    <div class="text-gray-400 text-xs mb-2">
        Monitors: {% for signal in signals %}{{ signal }}{% if not loop.last %}, {% endif %}{% endfor %}
    </div>

    <div class="flex items-center justify-between">
        <span class="text-gray-400 text-sm">Status</span>
        <span class="px-2 py-1 rounded text-xs font-bold bg-green-500/20 text-green-400" id="status-{{ service_name }}">Active</span>
    </div>

    <div class="mt-2 bg-white/5 rounded p-3 text-center">
        <span class="text-2xl font-bold text-white" id="value-{{ service_name }}">0.0</span>
        <span class="text-sm text-gray-500 ml-1">units</span>
    </div>

    <script>
        // Simple mock script for the generated widget
        setInterval(() => {
            const raw = Math.random() * 100;
            const element = document.getElementById('value-{{ service_name }}');
            if (element) {
                element.innerText = raw.toFixed(2);
                
                // Randomly trigger a fake warning
                const status = document.getElementById('status-{{ service_name }}');
                if (raw > 90) {
                    status.className = "px-2 py-1 rounded text-xs font-bold bg-red-500/20 text-red-400";
                    status.innerText = "Warning";
                } else {
                    status.className = "px-2 py-1 rounded text-xs font-bold bg-green-500/20 text-green-400";
                    status.innerText = "Active";
                }
            }
        }, 2000);
    </script>
</div>
